import{r as i,h as s,H as r}from"./index.8e4bd482.js";import"./vendor.fa1fd10d.js";const c=class{constructor(t){i(this,t),this.defaultBranch="main",this.branches=[],this.currentBranch=this.defaultBranch}componentWillLoad(){fetch(`https://api.github.com/repos/${this.owner}/${this.repo}/branches`).then(t=>t.json()).then(t=>{this.branches=t.map(h=>h.name).filter(h=>h!=="gh-pages");const e=window.location.href,n=this.branches.find(h=>e.includes(h));n&&(this.currentBranch=n)})}handleChange(t,e,n){e&&n&&(top.location=`https://${e}.github.io/${n}${this.defaultBranch===t?"":`/review/${t}`}/index.html`)}render(){var t;return s(r,null,((t=this.branches)===null||t===void 0?void 0:t.length)>0&&s("db-select",{label:"Version",name:"Theme",onDbChange:e=>this.handleChange(e.target.value,this.owner,this.repo)},this.branches.map((e,n)=>s("option",{key:`${e}-${n}`,value:e,selected:this.currentBranch===e},e))))}};export{c as github_version_switcher};
