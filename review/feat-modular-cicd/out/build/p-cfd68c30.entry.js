import{r as t,h as s,H as i}from"./p-5f545e05.js";const h=class{constructor(s){t(this,s),this.defaultBranch="main",this.branches=[],this.currentBranch=this.defaultBranch}componentWillLoad(){fetch(`https://api.github.com/repos/${this.owner}/${this.repo}/branches`).then((t=>t.json())).then((t=>{this.branches=t.map((t=>t.name)).filter((t=>"gh-pages"!==t));const s=window.location.href,i=this.branches.find((t=>s.includes(t)));i&&(this.currentBranch=i)}))}handleChange(t,s,i){s&&i&&(top.location=`https://${s}.github.io/${i}${this.defaultBranch===t?"":`/review/${t}`}/index.html`)}render(){var t;return s(i,null,(null===(t=this.branches)||void 0===t?void 0:t.length)>0&&s("db-select",{label:"Version",name:"Theme",onDbChange:t=>this.handleChange(t.target.value,this.owner,this.repo)},this.branches.map(((t,i)=>s("option",{key:`${t}-${i}`,value:t,selected:this.currentBranch===t},t)))))}};export{h as github_version_switcher}